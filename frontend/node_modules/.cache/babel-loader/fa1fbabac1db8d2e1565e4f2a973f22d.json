{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elvir\\\\dev\\\\react-mesto-api-full\\\\frontend\\\\src\\\\components\\\\App.js\",\n  _s = $RefreshSig$();\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport * as auth from '../utils/Auth.js';\nimport api from '../utils/Api';\nimport { useEffect, useState, useCallback } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setselectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [userData, setUserData] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  const [message, setMessage] = useState(null);\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setselectedCard(null);\n    setIsTooltipPopupOpen(false);\n  };\n  const handleCardLike = card => {\n    var _card$likes;\n    const isLiked = card === null || card === void 0 ? void 0 : (_card$likes = card.likes) === null || _card$likes === void 0 ? void 0 : _card$likes.some(id => id === currentUser._id);\n    console.log(isLiked);\n    api.handleLike(card === null || card === void 0 ? void 0 : card._id, isLiked).then(res => {\n      setCards(state => state.map(c => c._id === card._id ? res : c));\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  };\n  const handleCardDelete = card => {\n    var _card$owner;\n    const isOwn = (card === null || card === void 0 ? void 0 : (_card$owner = card.owner) === null || _card$owner === void 0 ? void 0 : _card$owner._id) === currentUser._id;\n    api.removeCard(card === null || card === void 0 ? void 0 : card._id).then(res => {\n      if (isOwn) {\n        setCards(state => state.filter(c => c._id !== card._id));\n      }\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  };\n  function handleUpdateUser(data) {\n    api.editProfile(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }\n  function handleUpdateAvatar(data) {\n    api.updateAvatar(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }\n  function handleAddPlaceSubmit(_ref) {\n    let {\n      name,\n      link\n    } = _ref;\n    api.addCard({\n      name: name,\n      link: link\n    }).then(res => {\n      const newCard = res;\n      setCards([newCard, ...cards]);\n      ;\n      closeAllPopups();\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }\n  const cbLogin = useCallback(async _ref2 => {\n    let {\n      email,\n      password\n    } = _ref2;\n    try {\n      setLoading(true);\n      const data = await auth.authorize({\n        email,\n        password\n      });\n      if (!data) {\n        throw new Error('Неверное имя или пароль пользователя');\n      }\n      if (data.token) {\n        console.log(data.token);\n        localStorage.setItem('jwt', data.token);\n        setLoggedIn(true);\n        setUserData(data);\n      }\n      return data;\n    } catch (err) {\n      setMessage(err.message);\n      setIsTooltipPopupOpen(true);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const cbRegister = useCallback(async (email, password) => {\n    try {\n      setLoading(true);\n      const data = await auth.register(email, password);\n      if (!data) {\n        throw new Error('Пользователь не зарегистрирован');\n      }\n      if (data) {\n        cbLogin(email, password);\n        setIsTooltipPopupOpen(true);\n      }\n      return data;\n    } catch (res) {\n      setMessage(res.error);\n      setIsTooltipPopupOpen(true);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const cbLogout = () => {\n    setLoggedIn(false);\n    localStorage.clear();\n    setUserData(null);\n  };\n  const tokenCheck = useCallback(async () => {\n    try {\n      setLoading(true);\n      let token = localStorage.getItem('jwt');\n      // console.log(token);\n      if (!token) {\n        throw new Error('no token');\n      }\n      const user = await auth.checkToken(token);\n      if (!user) {\n        throw new Error('invalid user');\n      }\n      if (user) {\n        setLoggedIn(true);\n        setUserData(user);\n        setEmail(user.email); //user.data.email\n      }\n    } catch (err) {\n      // console.log(err);\n    } finally {\n      setLoading(false);\n    }\n  }, [loggedIn]);\n  useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck]);\n  useEffect(() => {\n    loggedIn && api.getUser(currentUser).then(res => {\n      setCurrentUser(res);\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }, [loggedIn]);\n  useEffect(() => {\n    loggedIn && api.getInitialCards().then(res => {\n      return setCards(res);\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }, [loggedIn]);\n  if (loading) {\n    return '...Loading';\n  }\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        loggedIn: loggedIn,\n        onLogout: cbLogout,\n        email: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/\",\n          loggedIn: loggedIn,\n          userData: userData,\n          component: Main,\n          cards: cards,\n          onEditProfile: () => setIsEditProfilePopupOpen(true),\n          onAddPlace: () => setIsAddPlacePopupOpen(true),\n          onEditAvatar: () => setIsEditAvatarPopupOpen(true),\n          onCardClick: data => setselectedCard(data),\n          onCardLike: handleCardLike,\n          onCardDelete: handleCardDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            loggedIn: loggedIn,\n            onLogin: cbLogin,\n            onTooltip: () => setIsTooltipPopupOpen(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(Register, {\n            loggedIn: loggedIn,\n            onRegister: cbRegister,\n            onTooltip: () => setIsTooltipPopupOpen(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"*\",\n        children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/signin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        active: isTooltipPopupOpen,\n        onClose: closeAllPopups,\n        loggedIn: loggedIn,\n        message: loggedIn ? \"Вы успешно зарегистрировались!\" : message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        active: isEditProfilePopupOpen,\n        onClose: closeAllPopups,\n        onUpdateUser: handleUpdateUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        active: isAddPlacePopupOpen,\n        onClose: closeAllPopups,\n        onAddPlace: handleAddPlaceSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        active: isEditAvatarPopupOpen,\n        onClose: closeAllPopups,\n        onUpdateAvatar: handleUpdateAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        buttonText: \"\\u0414\\u0430\",\n        name: \"delete\",\n        title: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        item: selectedCard,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RHTf6CZZl+zijcp1V2eFeoIqdjo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Header","Main","Footer","PopupWithForm","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ImagePopup","Login","Register","InfoTooltip","auth","api","useEffect","useState","useCallback","CurrentUserContext","Route","Redirect","Switch","ProtectedRoute","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setselectedCard","currentUser","setCurrentUser","cards","setCards","loggedIn","setLoggedIn","loading","setLoading","userData","setUserData","email","setEmail","isTooltipPopupOpen","setIsTooltipPopupOpen","message","setMessage","closeAllPopups","handleCardLike","card","isLiked","likes","some","id","_id","console","log","handleLike","then","res","state","map","c","catch","err","handleCardDelete","isOwn","owner","removeCard","filter","handleUpdateUser","data","editProfile","handleUpdateAvatar","updateAvatar","handleAddPlaceSubmit","name","link","addCard","newCard","cbLogin","password","authorize","Error","token","localStorage","setItem","cbRegister","register","error","cbLogout","clear","tokenCheck","getItem","user","checkToken","getUser","getInitialCards"],"sources":["C:/Users/elvir/dev/react-mesto-api-full/frontend/src/components/App.js"],"sourcesContent":["import Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport * as auth from '../utils/Auth.js';\r\nimport api from '../utils/Api';\r\nimport { useEffect, useState, useCallback } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { Route, Redirect, Switch } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setselectedCard] = useState(null)\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [userData, setUserData] = useState(null);\r\n  const [email, setEmail] = useState(null);\r\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\r\n  const [message, setMessage] = useState(null)\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setselectedCard(null);\r\n    setIsTooltipPopupOpen(false)\r\n  }\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card?.likes?.some(id => id === currentUser._id);\r\n    console.log(isLiked);\r\n    api.handleLike(card?._id, isLiked)\r\n      .then((res) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? res : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log('Error', err);\r\n      })\r\n  }\r\n\r\n  const handleCardDelete = (card) => {\r\n    const isOwn = card?.owner?._id === currentUser._id;\r\n    api.removeCard(card?._id)\r\n      .then((res) => {\r\n        if (isOwn) {\r\n          setCards((state) => state.filter((c) => c._id !== card._id));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log('Error', err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.editProfile(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log('Error', err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.updateAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log('Error', err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    api.addCard({\r\n      name: name,\r\n      link: link\r\n    })\r\n      .then((res) => {\r\n        const newCard = res;\r\n        setCards([newCard, ...cards]);;\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log('Error', err);\r\n      })\r\n  }\r\n\r\n  const cbLogin = useCallback(async ({ email, password }) => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await auth.authorize({ email, password });\r\n      if (!data) {\r\n        throw new Error('Неверное имя или пароль пользователя');\r\n      }\r\n      if (data.token) {\r\n        console.log(data.token);\r\n        localStorage.setItem('jwt', data.token);\r\n        setLoggedIn(true);\r\n        setUserData(data);\r\n      }\r\n      return data;\r\n    } catch (err) {\r\n      setMessage(err.message);\r\n      setIsTooltipPopupOpen(true);\r\n\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [])\r\n\r\n  const cbRegister = useCallback(async (email, password) => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await auth.register(email, password);\r\n      if (!data) {\r\n        throw new Error('Пользователь не зарегистрирован');\r\n      }\r\n      if (data) {\r\n        cbLogin(email, password);\r\n        setIsTooltipPopupOpen(true);\r\n      }\r\n      return data;\r\n    } catch (res) {\r\n      setMessage(res.error);\r\n      setIsTooltipPopupOpen(true);\r\n\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [])\r\n\r\n  const cbLogout = (() => {\r\n    setLoggedIn(false);\r\n    localStorage.clear();\r\n    setUserData(null);\r\n  })\r\n\r\n  const tokenCheck = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      let token = localStorage.getItem('jwt');\r\n      // console.log(token);\r\n      if (!token) {\r\n        throw new Error('no token')\r\n      }\r\n      const user = await auth.checkToken(token);\r\n      if (!user) {\r\n        throw new Error('invalid user')\r\n      }\r\n      if (user) {\r\n        setLoggedIn(true);\r\n        setUserData(user);\r\n        setEmail(user.email); //user.data.email\r\n      }\r\n    } catch (err) {\r\n      // console.log(err);\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  useEffect(() => {\r\n    tokenCheck()\r\n  }, [tokenCheck]);\r\n\r\n  useEffect(() => {\r\n    loggedIn &&\r\n      api.getUser(currentUser)\r\n        .then((res) => {\r\n          setCurrentUser(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log('Error', err);\r\n        })\r\n  }, [loggedIn])\r\n\r\n  useEffect(() => {\r\n    loggedIn &&\r\n      api.getInitialCards()\r\n        .then((res) => {\r\n          return setCards(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log('Error', err);\r\n        })\r\n  }, [loggedIn])\r\n\r\n  if (loading) {\r\n    return '...Loading'\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header loggedIn={loggedIn}\r\n          onLogout={cbLogout}\r\n          email={email} />\r\n        <Switch>\r\n          <ProtectedRoute exact path=\"/\"\r\n            loggedIn={loggedIn}\r\n            userData={userData}\r\n            component={Main}\r\n            cards={cards}\r\n            onEditProfile={() => setIsEditProfilePopupOpen(true)}\r\n            onAddPlace={() => setIsAddPlacePopupOpen(true)}\r\n            onEditAvatar={() => setIsEditAvatarPopupOpen(true)}\r\n            onCardClick={(data) => setselectedCard(data)}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          >\r\n          </ProtectedRoute>\r\n          <Route path=\"/signin\">\r\n            <Login loggedIn={loggedIn}\r\n              onLogin={cbLogin}\r\n              onTooltip={() => setIsTooltipPopupOpen(true)}\r\n            />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <Register loggedIn={loggedIn}\r\n              onRegister={cbRegister}\r\n              onTooltip={() => setIsTooltipPopupOpen(true)}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n        <Route exact path=\"*\" >\r\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n        </Route>\r\n        <Footer />\r\n        <InfoTooltip\r\n          active={isTooltipPopupOpen}\r\n          onClose={closeAllPopups}\r\n          loggedIn={loggedIn}\r\n          message={loggedIn ? \"Вы успешно зарегистрировались!\" : message} />\r\n        <EditProfilePopup\r\n          active={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}>\r\n        </EditProfilePopup>\r\n        <AddPlacePopup\r\n          active={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}>\r\n        </AddPlacePopup>\r\n        <EditAvatarPopup\r\n          active={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        >\r\n        </EditAvatarPopup>\r\n        <PopupWithForm\r\n          buttonText='Да'\r\n          name=\"delete\"\r\n          title=\"Вы уверены?\" />\r\n        <ImagePopup\r\n          item={selectedCard}\r\n          onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,aAAa;AAChC,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,UAAU,MAAM,iBAAiB;AACxC,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAOC,WAAW,MAAM,kBAAkB;AAC1C,OAAO,KAAKC,IAAI,MAAM,kBAAkB;AACxC,OAAOC,GAAG,MAAM,cAAc;AAC9B,SAASC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,KAAK,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAC1D,OAAOC,cAAc,MAAM,qBAAqB;AAAC;AAEjD,SAASC,GAAG,GAAG;EAAA;EACb,MAAM,CAACC,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC3E,MAAM,CAACU,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACY,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACsB,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwB,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC4B,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAAC8B,OAAO,EAAEC,UAAU,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMgC,cAAc,GAAG,MAAM;IAC3BvB,yBAAyB,CAAC,KAAK,CAAC;IAChCE,sBAAsB,CAAC,KAAK,CAAC;IAC7BE,wBAAwB,CAAC,KAAK,CAAC;IAC/BE,eAAe,CAAC,IAAI,CAAC;IACrBc,qBAAqB,CAAC,KAAK,CAAC;EAC9B,CAAC;EAED,MAAMI,cAAc,GAAIC,IAAI,IAAK;IAAA;IAC/B,MAAMC,OAAO,GAAGD,IAAI,aAAJA,IAAI,sCAAJA,IAAI,CAAEE,KAAK,gDAAX,YAAaC,IAAI,CAACC,EAAE,IAAIA,EAAE,KAAKtB,WAAW,CAACuB,GAAG,CAAC;IAC/DC,OAAO,CAACC,GAAG,CAACN,OAAO,CAAC;IACpBrC,GAAG,CAAC4C,UAAU,CAACR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,GAAG,EAAEJ,OAAO,CAAC,CAC/BQ,IAAI,CAAEC,GAAG,IAAK;MACbzB,QAAQ,CAAE0B,KAAK,IAAKA,KAAK,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACR,GAAG,KAAKL,IAAI,CAACK,GAAG,GAAGK,GAAG,GAAGG,CAAC,CAAC,CAAC;IACrE,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,gBAAgB,GAAIhB,IAAI,IAAK;IAAA;IACjC,MAAMiB,KAAK,GAAG,CAAAjB,IAAI,aAAJA,IAAI,sCAAJA,IAAI,CAAEkB,KAAK,gDAAX,YAAab,GAAG,MAAKvB,WAAW,CAACuB,GAAG;IAClDzC,GAAG,CAACuD,UAAU,CAACnB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,GAAG,CAAC,CACtBI,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIO,KAAK,EAAE;QACThC,QAAQ,CAAE0B,KAAK,IAAKA,KAAK,CAACS,MAAM,CAAEP,CAAC,IAAKA,CAAC,CAACR,GAAG,KAAKL,IAAI,CAACK,GAAG,CAAC,CAAC;MAC9D;IACF,CAAC,CAAC,CACDS,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACN,CAAC;EAED,SAASM,gBAAgB,CAACC,IAAI,EAAE;IAC9B1D,GAAG,CAAC2D,WAAW,CAACD,IAAI,CAAC,CAClBb,IAAI,CAAEC,GAAG,IAAK;MACb3B,cAAc,CAAC2B,GAAG,CAAC;MACnBZ,cAAc,EAAE;IAClB,CAAC,CAAC,CACDgB,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACN;EAEA,SAASS,kBAAkB,CAACF,IAAI,EAAE;IAChC1D,GAAG,CAAC6D,YAAY,CAACH,IAAI,CAAC,CACnBb,IAAI,CAAEC,GAAG,IAAK;MACb3B,cAAc,CAAC2B,GAAG,CAAC;MACnBZ,cAAc,EAAE;IAClB,CAAC,CAAC,CACDgB,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACN;EAEA,SAASW,oBAAoB,OAAiB;IAAA,IAAhB;MAAEC,IAAI;MAAEC;IAAK,CAAC;IAC1ChE,GAAG,CAACiE,OAAO,CAAC;MACVF,IAAI,EAAEA,IAAI;MACVC,IAAI,EAAEA;IACR,CAAC,CAAC,CACCnB,IAAI,CAAEC,GAAG,IAAK;MACb,MAAMoB,OAAO,GAAGpB,GAAG;MACnBzB,QAAQ,CAAC,CAAC6C,OAAO,EAAE,GAAG9C,KAAK,CAAC,CAAC;MAAC;MAC9Bc,cAAc,EAAE;IAClB,CAAC,CAAC,CACDgB,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACN;EAEA,MAAMgB,OAAO,GAAGhE,WAAW,CAAC,eAA+B;IAAA,IAAxB;MAAEyB,KAAK;MAAEwC;IAAS,CAAC;IACpD,IAAI;MACF3C,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMiC,IAAI,GAAG,MAAM3D,IAAI,CAACsE,SAAS,CAAC;QAAEzC,KAAK;QAAEwC;MAAS,CAAC,CAAC;MACtD,IAAI,CAACV,IAAI,EAAE;QACT,MAAM,IAAIY,KAAK,CAAC,sCAAsC,CAAC;MACzD;MACA,IAAIZ,IAAI,CAACa,KAAK,EAAE;QACd7B,OAAO,CAACC,GAAG,CAACe,IAAI,CAACa,KAAK,CAAC;QACvBC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEf,IAAI,CAACa,KAAK,CAAC;QACvChD,WAAW,CAAC,IAAI,CAAC;QACjBI,WAAW,CAAC+B,IAAI,CAAC;MACnB;MACA,OAAOA,IAAI;IACb,CAAC,CAAC,OAAOP,GAAG,EAAE;MACZlB,UAAU,CAACkB,GAAG,CAACnB,OAAO,CAAC;MACvBD,qBAAqB,CAAC,IAAI,CAAC;IAE7B,CAAC,SAAS;MACRN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMiD,UAAU,GAAGvE,WAAW,CAAC,OAAOyB,KAAK,EAAEwC,QAAQ,KAAK;IACxD,IAAI;MACF3C,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMiC,IAAI,GAAG,MAAM3D,IAAI,CAAC4E,QAAQ,CAAC/C,KAAK,EAAEwC,QAAQ,CAAC;MACjD,IAAI,CAACV,IAAI,EAAE;QACT,MAAM,IAAIY,KAAK,CAAC,iCAAiC,CAAC;MACpD;MACA,IAAIZ,IAAI,EAAE;QACRS,OAAO,CAACvC,KAAK,EAAEwC,QAAQ,CAAC;QACxBrC,qBAAqB,CAAC,IAAI,CAAC;MAC7B;MACA,OAAO2B,IAAI;IACb,CAAC,CAAC,OAAOZ,GAAG,EAAE;MACZb,UAAU,CAACa,GAAG,CAAC8B,KAAK,CAAC;MACrB7C,qBAAqB,CAAC,IAAI,CAAC;IAE7B,CAAC,SAAS;MACRN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMoD,QAAQ,GAAI,MAAM;IACtBtD,WAAW,CAAC,KAAK,CAAC;IAClBiD,YAAY,CAACM,KAAK,EAAE;IACpBnD,WAAW,CAAC,IAAI,CAAC;EACnB,CAAE;EAEF,MAAMoD,UAAU,GAAG5E,WAAW,CAAC,YAAY;IACzC,IAAI;MACFsB,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI8C,KAAK,GAAGC,YAAY,CAACQ,OAAO,CAAC,KAAK,CAAC;MACvC;MACA,IAAI,CAACT,KAAK,EAAE;QACV,MAAM,IAAID,KAAK,CAAC,UAAU,CAAC;MAC7B;MACA,MAAMW,IAAI,GAAG,MAAMlF,IAAI,CAACmF,UAAU,CAACX,KAAK,CAAC;MACzC,IAAI,CAACU,IAAI,EAAE;QACT,MAAM,IAAIX,KAAK,CAAC,cAAc,CAAC;MACjC;MACA,IAAIW,IAAI,EAAE;QACR1D,WAAW,CAAC,IAAI,CAAC;QACjBI,WAAW,CAACsD,IAAI,CAAC;QACjBpD,QAAQ,CAACoD,IAAI,CAACrD,KAAK,CAAC,CAAC,CAAC;MACxB;IACF,CAAC,CAAC,OAAOuB,GAAG,EAAE;MACZ;IACF,CAAC,SAAS;MACR1B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEdrB,SAAS,CAAC,MAAM;IACd8E,UAAU,EAAE;EACd,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB9E,SAAS,CAAC,MAAM;IACdqB,QAAQ,IACNtB,GAAG,CAACmF,OAAO,CAACjE,WAAW,CAAC,CACrB2B,IAAI,CAAEC,GAAG,IAAK;MACb3B,cAAc,CAAC2B,GAAG,CAAC;IACrB,CAAC,CAAC,CACDI,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACR,CAAC,EAAE,CAAC7B,QAAQ,CAAC,CAAC;EAEdrB,SAAS,CAAC,MAAM;IACdqB,QAAQ,IACNtB,GAAG,CAACoF,eAAe,EAAE,CAClBvC,IAAI,CAAEC,GAAG,IAAK;MACb,OAAOzB,QAAQ,CAACyB,GAAG,CAAC;IACtB,CAAC,CAAC,CACDI,KAAK,CAAEC,GAAG,IAAK;MACdT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,GAAG,CAAC;IAC3B,CAAC,CAAC;EACR,CAAC,EAAE,CAAC7B,QAAQ,CAAC,CAAC;EAEd,IAAIE,OAAO,EAAE;IACX,OAAO,YAAY;EACrB;EAEA,oBACE,QAAC,kBAAkB,CAAC,QAAQ;IAAC,KAAK,EAAEN,WAAY;IAAA,uBAC9C;MAAK,SAAS,EAAC,MAAM;MAAA,wBACnB,QAAC,MAAM;QAAC,QAAQ,EAAEI,QAAS;QACzB,QAAQ,EAAEuD,QAAS;QACnB,KAAK,EAAEjD;MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,eAClB,QAAC,MAAM;QAAA,wBACL,QAAC,cAAc;UAAC,KAAK;UAAC,IAAI,EAAC,GAAG;UAC5B,QAAQ,EAAEN,QAAS;UACnB,QAAQ,EAAEI,QAAS;UACnB,SAAS,EAAErC,IAAK;UAChB,KAAK,EAAE+B,KAAM;UACb,aAAa,EAAE,MAAMT,yBAAyB,CAAC,IAAI,CAAE;UACrD,UAAU,EAAE,MAAME,sBAAsB,CAAC,IAAI,CAAE;UAC/C,YAAY,EAAE,MAAME,wBAAwB,CAAC,IAAI,CAAE;UACnD,WAAW,EAAG2C,IAAI,IAAKzC,eAAe,CAACyC,IAAI,CAAE;UAC7C,UAAU,EAAEvB,cAAe;UAC3B,YAAY,EAAEiB;QAAiB;UAAA;UAAA;UAAA;QAAA,QAEhB,eACjB,QAAC,KAAK;UAAC,IAAI,EAAC,SAAS;UAAA,uBACnB,QAAC,KAAK;YAAC,QAAQ,EAAE9B,QAAS;YACxB,OAAO,EAAE6C,OAAQ;YACjB,SAAS,EAAE,MAAMpC,qBAAqB,CAAC,IAAI;UAAE;YAAA;YAAA;YAAA;UAAA;QAC7C;UAAA;UAAA;UAAA;QAAA,QACI,eACR,QAAC,KAAK;UAAC,IAAI,EAAC,SAAS;UAAA,uBACnB,QAAC,QAAQ;YAAC,QAAQ,EAAET,QAAS;YAC3B,UAAU,EAAEoD,UAAW;YACvB,SAAS,EAAE,MAAM3C,qBAAqB,CAAC,IAAI;UAAE;YAAA;YAAA;YAAA;UAAA;QAC7C;UAAA;UAAA;UAAA;QAAA,QACI;MAAA;QAAA;QAAA;QAAA;MAAA,QACD,eACT,QAAC,KAAK;QAAC,KAAK;QAAC,IAAI,EAAC,GAAG;QAAA,UAClBT,QAAQ,gBAAG,QAAC,QAAQ;UAAC,EAAE,EAAC;QAAG;UAAA;UAAA;UAAA;QAAA,QAAG,gBAAG,QAAC,QAAQ;UAAC,EAAE,EAAC;QAAS;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QACrD,eACR,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,eACV,QAAC,WAAW;QACV,MAAM,EAAEQ,kBAAmB;QAC3B,OAAO,EAAEI,cAAe;QACxB,QAAQ,EAAEZ,QAAS;QACnB,OAAO,EAAEA,QAAQ,GAAG,gCAAgC,GAAGU;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAG,eACpE,QAAC,gBAAgB;QACf,MAAM,EAAEtB,sBAAuB;QAC/B,OAAO,EAAEwB,cAAe;QACxB,YAAY,EAAEuB;MAAiB;QAAA;QAAA;QAAA;MAAA,QACd,eACnB,QAAC,aAAa;QACZ,MAAM,EAAE7C,mBAAoB;QAC5B,OAAO,EAAEsB,cAAe;QACxB,UAAU,EAAE4B;MAAqB;QAAA;QAAA;QAAA;MAAA,QACnB,eAChB,QAAC,eAAe;QACd,MAAM,EAAEhD,qBAAsB;QAC9B,OAAO,EAAEoB,cAAe;QACxB,cAAc,EAAE0B;MAAmB;QAAA;QAAA;QAAA;MAAA,QAEnB,eAClB,QAAC,aAAa;QACZ,UAAU,EAAC,cAAI;QACf,IAAI,EAAC,QAAQ;QACb,KAAK,EAAC;MAAa;QAAA;QAAA;QAAA;MAAA,QAAG,eACxB,QAAC,UAAU;QACT,IAAI,EAAE5C,YAAa;QACnB,OAAO,EAAEkB;MAAe;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA;EACzB;IAAA;IAAA;IAAA;EAAA,QACsB;AAElC;AAAC,GAhQQzB,GAAG;AAAA,KAAHA,GAAG;AAkQZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module"}