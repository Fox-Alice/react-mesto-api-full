{"ast":null,"code":"import{useContext}from'react';import cardRemoveButton from'../images/card-remove-button.svg';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var _item$likes,_item$likes2;var item=_ref.item,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=useContext(CurrentUserContext);var isOwn=(item===null||item===void 0?void 0:item.owner)===(currentUser===null||currentUser===void 0?void 0:currentUser._id);var cardDeleteButtonClassName=\"card__remove-button \".concat(isOwn?'card__remove-button_visible':' ');var isLiked=item===null||item===void 0?void 0:(_item$likes=item.likes)===null||_item$likes===void 0?void 0:_item$likes.some(function(id){return id===(currentUser===null||currentUser===void 0?void 0:currentUser._id);});var cardLikeButtonClassName=\"card__like \".concat(isLiked?'card__like_active':'card__like');;function handleClick(){onCardClick(item);}function handleLikeClick(){onCardLike(item);}function handleDeleteClick(){onCardDelete(item);}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardDeleteButtonClassName,onClick:handleDeleteClick,\"aria-label\":\"remove\",type:\"button\",children:/*#__PURE__*/_jsx(\"img\",{className:\"card__remove-image\",src:cardRemoveButton,alt:\"\\u043A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})}),/*#__PURE__*/_jsx(\"img\",{onClick:handleClick,className:\"card__image\",src:item===null||item===void 0?void 0:item.link,alt:item===null||item===void 0?void 0:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__caption\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__title\",children:item===null||item===void 0?void 0:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,onClick:handleLikeClick,\"aria-label\":\"like\",type:\"button\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card__like-counter\",children:item===null||item===void 0?void 0:(_item$likes2=item.likes)===null||_item$likes2===void 0?void 0:_item$likes2.length})]})]})]});}export default Card;","map":{"version":3,"names":["useContext","cardRemoveButton","CurrentUserContext","Card","item","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","id","cardLikeButtonClassName","handleClick","handleLikeClick","handleDeleteClick","link","name","length"],"sources":["C:/Users/elvir/dev/react-mesto-api-full/frontend/src/components/Card.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport cardRemoveButton from '../images/card-remove-button.svg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ item, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = item?.owner === currentUser?._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__remove-button ${isOwn ? 'card__remove-button_visible' : ' '}`\r\n    );\r\n\r\n    const isLiked = item?.likes?.some(id => id === currentUser?._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : 'card__like'}`\r\n    );;\r\n\r\n    function handleClick() {\r\n        onCardClick(item);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(item)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(item)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <button className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}\r\n                aria-label=\"remove\"\r\n                type=\"button\">\r\n                <img\r\n                    className=\"card__remove-image\"\r\n                    src={cardRemoveButton}\r\n                    alt=\"кнопка удалить\"\r\n                />\r\n            </button>\r\n            <img\r\n                onClick={handleClick}\r\n                className=\"card__image\"\r\n                src={item?.link}\r\n                alt={item?.name}\r\n            />\r\n            <div className=\"card__caption\">\r\n                <h2 className=\"card__title\">{item?.name}</h2>\r\n                <div className=\"card__like-container\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} aria-label=\"like\" type=\"button\" />\r\n                    <span className=\"card__like-counter\">{item?.likes?.length}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,MAAOC,iBAAgB,KAAM,kCAAkC,CAC/D,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,wFAEpE,QAASC,KAAI,MAAkD,iCAA/CC,KAAI,MAAJA,IAAI,CAAEC,WAAW,MAAXA,WAAW,CAAEC,UAAU,MAAVA,UAAU,CAAEC,YAAY,MAAZA,YAAY,CAEvD,GAAMC,YAAW,CAAGR,UAAU,CAACE,kBAAkB,CAAC,CAElD,GAAMO,MAAK,CAAG,CAAAL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,KAAK,KAAKF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEG,GAAG,EAC9C,GAAMC,0BAAyB,+BACJH,KAAK,CAAG,6BAA6B,CAAG,GAAG,CACrE,CAED,GAAMI,QAAO,CAAGT,IAAI,SAAJA,IAAI,8BAAJA,IAAI,CAAEU,KAAK,sCAAX,YAAaC,IAAI,CAAC,SAAAC,EAAE,QAAIA,GAAE,IAAKR,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEG,GAAG,IAAC,CAChE,GAAMM,wBAAuB,sBACXJ,OAAO,CAAG,mBAAmB,CAAG,YAAY,CAC7D,CAAC,CAEF,QAASK,YAAW,EAAG,CACnBb,WAAW,CAACD,IAAI,CAAC,CACrB,CAEA,QAASe,gBAAe,EAAG,CACvBb,UAAU,CAACF,IAAI,CAAC,CACpB,CAEA,QAASgB,kBAAiB,EAAG,CACzBb,YAAY,CAACH,IAAI,CAAC,CACtB,CAEA,mBACI,aAAK,SAAS,CAAC,MAAM,wBACjB,eAAQ,SAAS,CAAEQ,yBAA0B,CACzC,OAAO,CAAEQ,iBAAkB,CAC3B,aAAW,QAAQ,CACnB,IAAI,CAAC,QAAQ,uBACb,YACI,SAAS,CAAC,oBAAoB,CAC9B,GAAG,CAAEnB,gBAAiB,CACtB,GAAG,CAAC,iFAAgB,EACtB,EACG,cACT,YACI,OAAO,CAAEiB,WAAY,CACrB,SAAS,CAAC,aAAa,CACvB,GAAG,CAAEd,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,IAAK,CAChB,GAAG,CAAEjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,IAAK,EAClB,cACF,aAAK,SAAS,CAAC,eAAe,wBAC1B,WAAI,SAAS,CAAC,aAAa,UAAElB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,IAAI,EAAM,cAC7C,aAAK,SAAS,CAAC,sBAAsB,wBACjC,eAAQ,SAAS,CAAEL,uBAAwB,CAAC,OAAO,CAAEE,eAAgB,CAAC,aAAW,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAG,cACxG,aAAM,SAAS,CAAC,oBAAoB,UAAEf,IAAI,SAAJA,IAAI,+BAAJA,IAAI,CAAEU,KAAK,uCAAX,aAAaS,MAAM,EAAQ,GAC/D,GACJ,GACJ,CAEd,CAEA,cAAepB,KAAI"},"metadata":{},"sourceType":"module"}