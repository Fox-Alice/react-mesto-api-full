{"ast":null,"code":"import _slicedToArray from\"C:/Users/elvir/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var active=_ref.active,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){setName(currentUser===null||currentUser===void 0?void 0:currentUser.name);setDescription(currentUser===null||currentUser===void 0?void 0:currentUser.about);},[currentUser]);function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{active:active,onClose:onClose,onSubmit:handleSubmit,buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",name:\"edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__border\",children:[/*#__PURE__*/_jsx(\"input\",{defaultValue:name,onChange:handleChangeName,id:\"name-input\",type:\"text\",name:\"name\",className:\"popup__form-item popup__form-item_type_name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:2,maxLength:40,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{id:\"name-input-error\",className:\"name-input-error popup__input-error\",children:\"\\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:description,onChange:handleChangeDescription,id:\"job-input\",type:\"text\",name:\"description\",className:\"popup__form-item popup__form-item_type_job\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:2,maxLength:200,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{id:\"job-input-error\",className:\"job-input-error popup__input-error\"})]})});}export default EditProfilePopup;","map":{"version":3,"names":["useState","useContext","useEffect","CurrentUserContext","PopupWithForm","EditProfilePopup","active","onClose","onUpdateUser","currentUser","name","setName","description","setDescription","about","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault"],"sources":["C:/Users/elvir/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ active, onClose, onUpdateUser }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser?.name);\r\n        setDescription(currentUser?.about)\r\n    }, [currentUser])\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            active={active}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText='Сохранить'\r\n            name=\"edit\"\r\n            title=\"Редактировать профиль\">\r\n            <fieldset className=\"popup__border\">\r\n                <input\r\n                    defaultValue={name}\r\n                    onChange={handleChangeName}\r\n                    id=\"name-input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    className=\"popup__form-item popup__form-item_type_name\"\r\n                    placeholder=\"Имя\"\r\n                    minLength={2}\r\n                    maxLength={40}\r\n                    required=\"\"\r\n                />\r\n                <span\r\n                    id=\"name-input-error\"\r\n                    className=\"name-input-error popup__input-error\"\r\n                >\r\n                    ошибка\r\n                </span>\r\n                <input\r\n                    defaultValue={description}\r\n                    onChange={handleChangeDescription}\r\n                    id=\"job-input\"\r\n                    type=\"text\"\r\n                    name=\"description\"\r\n                    className=\"popup__form-item popup__form-item_type_job\"\r\n                    placeholder=\"О себе\"\r\n                    minLength={2}\r\n                    maxLength={200}\r\n                    required=\"\"\r\n                />\r\n                <span\r\n                    id=\"job-input-error\"\r\n                    className=\"job-input-error popup__input-error\"\r\n                />\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    )\r\n}\r\nexport default EditProfilePopup;"],"mappings":"sIAAA,OAASA,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACvD,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,MAAOC,cAAa,KAAM,iBAAiB,CAAC,wFAE5C,QAASC,iBAAgB,MAAoC,IAAjCC,OAAM,MAANA,MAAM,CAAEC,OAAO,MAAPA,OAAO,CAAEC,YAAY,MAAZA,YAAY,CAErD,GAAMC,YAAW,CAAGR,UAAU,CAACE,kBAAkB,CAAC,CAElD,cAAwBH,QAAQ,CAAC,EAAE,CAAC,wCAA7BU,IAAI,eAAEC,OAAO,eACpB,eAAsCX,QAAQ,CAAC,EAAE,CAAC,yCAA3CY,WAAW,eAAEC,cAAc,eAElCX,SAAS,CAAC,UAAM,CACZS,OAAO,CAACF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEC,IAAI,CAAC,CAC1BG,cAAc,CAACJ,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEK,KAAK,CAAC,CACtC,CAAC,CAAE,CAACL,WAAW,CAAC,CAAC,CAEjB,QAASM,iBAAgB,CAACC,CAAC,CAAE,CACzBL,OAAO,CAACK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAASC,wBAAuB,CAACH,CAAC,CAAE,CAChCH,cAAc,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CAEA,QAASE,aAAY,CAACJ,CAAC,CAAE,CACrBA,CAAC,CAACK,cAAc,EAAE,CAClBb,YAAY,CAAC,CACTE,IAAI,CAAEA,IAAI,CACVI,KAAK,CAAEF,WACX,CAAC,CAAC,CACN,CAEA,mBACI,KAAC,aAAa,EACV,MAAM,CAAEN,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAEa,YAAa,CACvB,UAAU,CAAC,wDAAW,CACtB,IAAI,CAAC,MAAM,CACX,KAAK,CAAC,2HAAuB,uBAC7B,kBAAU,SAAS,CAAC,eAAe,wBAC/B,cACI,YAAY,CAAEV,IAAK,CACnB,QAAQ,CAAEK,gBAAiB,CAC3B,EAAE,CAAC,YAAY,CACf,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,6CAA6C,CACvD,WAAW,CAAC,oBAAK,CACjB,SAAS,CAAE,CAAE,CACb,SAAS,CAAE,EAAG,CACd,QAAQ,CAAC,EAAE,EACb,cACF,aACI,EAAE,CAAC,kBAAkB,CACrB,SAAS,CAAC,qCAAqC,kDAG5C,cACP,cACI,YAAY,CAAEH,WAAY,CAC1B,QAAQ,CAAEO,uBAAwB,CAClC,EAAE,CAAC,WAAW,CACd,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,aAAa,CAClB,SAAS,CAAC,4CAA4C,CACtD,WAAW,CAAC,iCAAQ,CACpB,SAAS,CAAE,CAAE,CACb,SAAS,CAAE,GAAI,CACf,QAAQ,CAAC,EAAE,EACb,cACF,aACI,EAAE,CAAC,iBAAiB,CACpB,SAAS,CAAC,oCAAoC,EAChD,GACK,EACC,CAExB,CACA,cAAed,iBAAgB"},"metadata":{},"sourceType":"module"}