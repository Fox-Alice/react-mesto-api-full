{"ast":null,"code":"export var BASE_URL='https://api.foxalice.nomoredomains.rocks';//  'http://localhost:3000';\nexport var onResponse=function onResponse(res){return res.ok?res.json():res.json().then(function(err){return Promise.reject(err);});};export var register=function register(_ref){var email=_ref.email,password=_ref.password;return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(onResponse);};export var authorize=function authorize(_ref2){var email=_ref2.email,password=_ref2.password;return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(onResponse).then(function(res){localStorage.setItem('jwt',res.token);return res;});};export var checkToken=function checkToken(){var token=localStorage.getItem('jwt');return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json','authorization':\"Bearer \".concat(token)}}).then(onResponse);};","map":{"version":3,"names":["BASE_URL","onResponse","res","ok","json","then","err","Promise","reject","register","email","password","fetch","method","headers","body","JSON","stringify","authorize","localStorage","setItem","token","checkToken","getItem"],"sources":["C:/Users/elvir/dev/react-mesto-api-full/frontend/src/utils/Auth.js"],"sourcesContent":["export const BASE_URL = \r\n'https://api.foxalice.nomoredomains.rocks';\r\n//  'http://localhost:3000';\r\n\r\nexport const onResponse = (res) => {\r\n  return res.ok ? res.json() : res.json()\r\n    .then((err) => Promise.reject(err));\r\n}\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(onResponse);\r\n};\r\n\r\nexport const authorize = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(onResponse)\r\n    .then((res) => {\r\n      localStorage.setItem('jwt', res.token)\r\n      return res;\r\n    })\r\n    };\r\n\r\nexport const checkToken = () => {\r\n  const token = localStorage.getItem('jwt');\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(onResponse);\r\n}"],"mappings":"AAAA,MAAO,IAAMA,SAAQ,CACrB,0CAA0C,CAC1C;AAEA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,GAAG,CAAK,CACjC,MAAOA,IAAG,CAACC,EAAE,CAAGD,GAAG,CAACE,IAAI,EAAE,CAAGF,GAAG,CAACE,IAAI,EAAE,CACpCC,IAAI,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,MAAM,CAACF,GAAG,CAAC,GAAC,CACvC,CAAC,CAED,MAAO,IAAMG,SAAQ,CAAG,QAAXA,SAAQ,MAA4B,IAAtBC,MAAK,MAALA,KAAK,CAAEC,QAAQ,MAARA,QAAQ,CACxC,MAAOC,MAAK,WAAIZ,QAAQ,YAAW,CACjCa,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEP,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACCN,IAAI,CAACJ,UAAU,CAAC,CACrB,CAAC,CAED,MAAO,IAAMiB,UAAS,CAAG,QAAZA,UAAS,OAA4B,IAAtBR,MAAK,OAALA,KAAK,CAAEC,QAAQ,OAARA,QAAQ,CACzC,MAAOC,MAAK,WAAIZ,QAAQ,YAAW,CACjCa,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEP,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACCN,IAAI,CAACJ,UAAU,CAAC,CAChBI,IAAI,CAAC,SAACH,GAAG,CAAK,CACbiB,YAAY,CAACC,OAAO,CAAC,KAAK,CAAElB,GAAG,CAACmB,KAAK,CAAC,CACtC,MAAOnB,IAAG,CACZ,CAAC,CAAC,CACF,CAAC,CAEL,MAAO,IAAMoB,WAAU,CAAG,QAAbA,WAAU,EAAS,CAC9B,GAAMD,MAAK,CAAGF,YAAY,CAACI,OAAO,CAAC,KAAK,CAAC,CACzC,MAAOX,MAAK,WAAIZ,QAAQ,cAAa,CACnCa,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAAkB,CAClC,eAAe,kBAAYO,KAAK,CAClC,CACF,CAAC,CAAC,CACChB,IAAI,CAACJ,UAAU,CAAC,CACrB,CAAC"},"metadata":{},"sourceType":"module"}