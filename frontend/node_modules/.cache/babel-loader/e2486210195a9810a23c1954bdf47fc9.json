{"ast":null,"code":"import _slicedToArray from\"C:/Users/elvir/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useContext,useState}from'react';import{CurrentCardContext}from'../contexts/CurrentCardContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var active=_ref.active,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace;var currentCard=useContext(CurrentCardContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),link=_useState4[0],setLink=_useState4[1];useEffect(function(){setName(currentCard===null||currentCard===void 0?void 0:currentCard.name);setLink(currentCard===null||currentCard===void 0?void 0:currentCard.link);},[currentCard]);function handleChangeName(e){setName(e.target.value);}function handleChangeLink(e){setLink(e.target.value);}function handleSubmit(e){e.preventDefault();onAddPlace({name:name,link:link});}useEffect(function(){setName('');setLink('');},[active]);return/*#__PURE__*/_jsx(PopupWithForm,{active:active,onClose:onClose,onSubmit:handleSubmit,buttonText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",name:\"card\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__border card-popup__border\",children:[/*#__PURE__*/_jsx(\"input\",{value:name||'',onChange:handleChangeName,id:\"title-input\",type:\"text\",name:\"name\",className:\"popup__form-item card-popup__form-item popup__form-item_type_title\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:2,maxLength:30,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{id:\"title-input-error\",className:\"title-input-error popup__input-error\"}),/*#__PURE__*/_jsx(\"input\",{value:link||'',onChange:handleChangeLink,id:\"link-input\",type:\"url\",name:\"link\",className:\"popup__form-item card-popup__form-item popup__form-item_type_link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{id:\"link-input-error\",className:\"link-input-error popup__input-error\"})]})});}export default AddPlacePopup;","map":{"version":3,"names":["useEffect","useContext","useState","CurrentCardContext","PopupWithForm","AddPlacePopup","active","onClose","onAddPlace","currentCard","name","setName","link","setLink","handleChangeName","e","target","value","handleChangeLink","handleSubmit","preventDefault"],"sources":["C:/Users/elvir/dev/react-mesto-api-full/frontend/src/components/AddPlacePopup.js"],"sourcesContent":["import { useEffect, useContext, useState } from 'react'\r\nimport { CurrentCardContext } from '../contexts/CurrentCardContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ active, onClose, onAddPlace }) {\r\n\r\n    const currentCard = useContext(CurrentCardContext);\r\n\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentCard?.name);\r\n        setLink(currentCard?.link)\r\n    }, [currentCard])\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: name,\r\n            link: link,\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [active]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            active={active}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText='Создать'\r\n            name=\"card\"\r\n            title=\"Новое место\">\r\n            <fieldset className=\"popup__border card-popup__border\">\r\n                <input\r\n                    value={name || ''}\r\n                    onChange={handleChangeName}\r\n                    id=\"title-input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    className=\"popup__form-item card-popup__form-item popup__form-item_type_title\"\r\n                    placeholder=\"Название\"\r\n                    minLength={2}\r\n                    maxLength={30}\r\n                    required=\"\"\r\n                />\r\n                <span\r\n                    id=\"title-input-error\"\r\n                    className=\"title-input-error popup__input-error\"\r\n                />\r\n                <input\r\n                    value={link || ''}\r\n                    onChange={handleChangeLink}\r\n                    id=\"link-input\"\r\n                    type=\"url\"\r\n                    name=\"link\"\r\n                    className=\"popup__form-item card-popup__form-item popup__form-item_type_link\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    required=\"\"\r\n                />\r\n                <span\r\n                    id=\"link-input-error\"\r\n                    className=\"link-input-error popup__input-error\"\r\n                />\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;"],"mappings":"sIAAA,OAASA,SAAS,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,MAAOC,cAAa,KAAM,iBAAiB,CAAC,wFAE5C,QAASC,cAAa,MAAkC,IAA/BC,OAAM,MAANA,MAAM,CAAEC,OAAO,MAAPA,OAAO,CAAEC,UAAU,MAAVA,UAAU,CAEhD,GAAMC,YAAW,CAAGR,UAAU,CAACE,kBAAkB,CAAC,CAElD,cAAwBD,QAAQ,CAAC,EAAE,CAAC,wCAA7BQ,IAAI,eAAEC,OAAO,eACpB,eAAwBT,QAAQ,CAAC,EAAE,CAAC,yCAA7BU,IAAI,eAAEC,OAAO,eAEpBb,SAAS,CAAC,UAAM,CACZW,OAAO,CAACF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEC,IAAI,CAAC,CAC1BG,OAAO,CAACJ,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEG,IAAI,CAAC,CAC9B,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAEjB,QAASK,iBAAgB,CAACC,CAAC,CAAE,CACzBJ,OAAO,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAASC,iBAAgB,CAACH,CAAC,CAAE,CACzBF,OAAO,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAASE,aAAY,CAACJ,CAAC,CAAE,CACrBA,CAAC,CAACK,cAAc,EAAE,CAClBZ,UAAU,CAAC,CACPE,IAAI,CAAEA,IAAI,CACVE,IAAI,CAAEA,IACV,CAAC,CAAC,CACN,CAEAZ,SAAS,CAAC,UAAM,CACZW,OAAO,CAAC,EAAE,CAAC,CACXE,OAAO,CAAC,EAAE,CAAC,CACf,CAAC,CAAE,CAACP,MAAM,CAAC,CAAC,CAEZ,mBACI,KAAC,aAAa,EACV,MAAM,CAAEA,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAEY,YAAa,CACvB,UAAU,CAAC,4CAAS,CACpB,IAAI,CAAC,MAAM,CACX,KAAK,CAAC,+DAAa,uBACnB,kBAAU,SAAS,CAAC,kCAAkC,wBAClD,cACI,KAAK,CAAET,IAAI,EAAI,EAAG,CAClB,QAAQ,CAAEI,gBAAiB,CAC3B,EAAE,CAAC,aAAa,CAChB,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,oEAAoE,CAC9E,WAAW,CAAC,kDAAU,CACtB,SAAS,CAAE,CAAE,CACb,SAAS,CAAE,EAAG,CACd,QAAQ,CAAC,EAAE,EACb,cACF,aACI,EAAE,CAAC,mBAAmB,CACtB,SAAS,CAAC,sCAAsC,EAClD,cACF,cACI,KAAK,CAAEF,IAAI,EAAI,EAAG,CAClB,QAAQ,CAAEM,gBAAiB,CAC3B,EAAE,CAAC,YAAY,CACf,IAAI,CAAC,KAAK,CACV,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,mEAAmE,CAC7E,WAAW,CAAC,oGAAoB,CAChC,QAAQ,CAAC,EAAE,EACb,cACF,aACI,EAAE,CAAC,kBAAkB,CACrB,SAAS,CAAC,qCAAqC,EACjD,GACK,EACC,CAExB,CAEA,cAAeb,cAAa"},"metadata":{},"sourceType":"module"}